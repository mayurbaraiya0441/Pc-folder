{% extends "base.html" %}
{% load static %}
 
{% block body %}
<div id="content-page" class="content-page">
    
  <div class="container-fluid">
    

    <a class="btn btn-info" href="{% url 'city_add' %}">Add City</a>
    <table class="table">
      <thead>
        <tr>
          <th scope="country">State name</th>
          <th scope="state">City Name</th>
          <th scope="state">City Status</th>
          <th scope="state">Action</th>

          


          
        </tr>
      </thead>
      <tbody>
        {% for i in city %}
        <tr>
        
          <td>{{i.state_id.state_name}}</td>
          <td>{{i.city_name}}</td>
          

          <td>
            {% if i.city_status == "True" %}
                
                <label class="switch" onchange="myfun({{i.id}}, true)">
                  <input type="checkbox" checked>
                  <span class="slider round"></span>
                </label>
            {% else %}
                  
                <label class="switch" onchange="myfun({{i.id}}, true)">
                  <input type="checkbox" >
                  <span class="slider round"></span>
                </label>
            {% endif %}
            </td>
          {% comment %} <td><a class="btn btn-success" href="{% url 'category_add' i.id %}"></a> {% endcomment %}
          <td><a class="btn btn-primary" href="{% url 'city_update' i.id %}"><i class="ri-pencil-line"></i></a>

          
          <a class="btn btn-danger"href="{% url 'city_delete' i.id %}" onclick="return confirm('Are you sure you want to delete this?')"><i class="ri-delete-bin-line"></a></td>
        </tr>
        
        {% endfor %}
        </tbody>
        </table>
        
      </div>
    </div>





<script>

    function myfun(id, status){
        console.log('1111111')

        window.location.href=`{{baseurl}}/machineapp/city_status/${id}`;
    }   
</script>

{% endblock %}